{% extends 'base.html.twig' %}

{% block title %}Voir les post
{% endblock %}

{% block body %}
<link rel="stylesheet" href="{{ asset('/css/home.css') }}">
{% include "public/shared/_side.html.twig" %} 
<div class="container">
<div class="row mb-4">
   <div class="col-sm mx-4">
    {% include "public/shared/_navbar.html.twig" %} 
   </div>
   
     </div>

   <div class="row">
    <div class="col-sm mx-4" STYLE="padding:15px">
	<h3 style="text-align:center;" class="mt-5">Tous mes posts</h3>
	
	
				<table class="table table-hover table-responsive mt-5">
					{% if articles | length > 0 %}
						
<a class="btn btn-sm btn-success mt-3" href="{{ path('create_article') }}">Creer un Post</a>
								<thead>
									<th>Date</th>
									<th>titre de l'article</th>
									<th>Contenu</th>
									<th>action</th>
									<th>Supprimer</th>
							
							</thead>

							{% for article in articles %}
								<tr>
									<td>{{ article.createdAt | date('d-m-Y') }}</td>
									<td>{{ article.titre  }}</td>
									<td>{{ article.description|raw  }}</td>
									<td>
										<a class="btn btn-sm btn-warning mt-3" href="{{ path('auteur_edit', {'id' : article.id }) }}">Modifier</a>
									</td>
									<td>
										<a class="btn btn-sm btn-danger mt-3" href="{{ path('auteur_delete', {'id' : article.id }) }}">Supprimer</a>


									</td>
								</tr>
							{% endfor %}
						
</table>


<div class=" mt-5">
{{ knp_pagination_render(articles) }}
</div>
{% else %}

{% if app.user %}
<p>Tu n'as pas encore Ã©crit d'articles!</p>

<a class="btn btn-sm btn-success mt-3" href="{{ path('create_article') }}">Creer un Post</a>{% else %}

{% endif %}
{% endif %}
</div>
</div>
</div>
{% endblock %}
